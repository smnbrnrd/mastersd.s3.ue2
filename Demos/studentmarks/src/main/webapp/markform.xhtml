<!DOCTYPE html>
<html lang="en" 
    xmlns:h="jakarta.faces.html" 
    xmlns:f="jakarta.faces.core"
    xmlns:ui="jakarta.faces.facelets">
    <h:head>
        <title>New mark record</title>

        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"/>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>

        <h:outputStylesheet library="css" name="main.css"/>

    </h:head>
    <h:body styleClass="d-flex flex-column">

        <main class="container">
            <h:graphicImage library="images" name="logo_urn_color_small.png" styleClass="logo" />
            <h1>New Evaluation Record</h1>

            <div class="row">
                <div class="col-md-12">
                    <h:form id="form" role="form" class="form">

                        <div class="form-group">
                            <h:outputLabel for="subject" value="Matière :"/>
                            <h:inputText id="subject" value="#{newRecord.mark.subject}" required="true" requiredMessage="Renseignez la matière."/>
                            <h:message for="subject" showDetail="false" showSummary="true"/>
                        </div>

                        <div class="form-group">
                            <h:outputLabel for="type" value="Nature de l'évaluation:"/>
                            <h:selectOneMenu id="type" value="#{newRecord.mark.type}">
                                <f:selectItem itemValue="EXAM" itemLabel="Exam"/>
                                <f:selectItem itemValue="PROJECT" itemLabel="Project"/>
                                <f:selectItem itemValue="PRACTICAL" itemLabel="Practical"/>
                                <f:selectItem itemValue="DEFENSE" itemLabel="Defense"/>
                                <f:selectItem itemValue="REPORT" itemLabel="Report"/>
                                <f:selectItem itemValue="OTHER" itemLabel="Other"/>
                            </h:selectOneMenu>
                            <h:message for="type" showDetail="false" showSummary="true"/>
                        </div>

                        <div class="form-group">
                            <h:outputLabel for="value" value="Note obtenue:"/>
                            <h:inputText id="value" value="#{newRecord.mark.value}" required="true" requiredMessage="Renseignez la note obtenue.">
                                <f:validateLongRange minimum="#{userNumberBean.minimum}" />
                            </h:inputText>
                            <h:message for="value" showDetail="false" showSummary="true"/>
                        </div>

                        <div class="form-group">
                            <h:outputLabel for="maxValue" value="Note maximale:"/>
                            <h:inputText id="maxValue" value="#{newRecord.mark.maxValue}" required="true" requiredMessage="Renseignez la note maximale.">
                                <f:validateLongRange minimum="#{userNumberBean.minimum}" />
                            </h:inputText>
                            <h:message for="maxValue" showDetail="false" showSummary="true"/>
                        </div>

                        <div class="form-group">
                            <h:outputLabel for="date" value="Date (dd-mm-yyyy):"/>
                            <h:inputText id="date" value="#{newRecord.mark.date}" required="true" requiredMessage="Renseignez la date.">
                                <f:convertDateTime type="localDate" pattern="dd-MM-yyyy" />
                            </h:inputText>
                            <h:message for="date" showDetail="false" showSummary="true"/>
                        </div>

                        <br/>
                        <div class="form-group">
                            <h:commandButton value="Add Record" action="#{newRecord.addRecord}" styleClass="btn btn-primary"/>
                            <h:commandButton value="Cancel" action="report?faces-redirect=true" immediate="true" styleClass="btn btn-secondary"/>
                        </div>

                    </h:form>
                </div>
            </div>
        </main>
    </h:body>
</html>